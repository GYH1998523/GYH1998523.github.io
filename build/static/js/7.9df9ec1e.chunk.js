(this["webpackJsonpreact-app2"]=this["webpackJsonpreact-app2"]||[]).push([[7],{297:function(e,t,n){"use strict";var a=n(16),r=n(298);n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}));var i=new a.b},298:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(299),r=n.n(a);n.d(t,"a",(function(){return r.a}));var i=n(58),o=n(297),c="https://47.100.174.253:2020/",s="";function u(e){i.q.hide(),i.q.fail(e,1)}function l(e){i.q.hide(),i.q.success(e,1)}r.a.defaults.baseURL=c,r.a.defaults.headers.common.token=s,r.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",r.a.interceptors.request.use((function(e){var t,n;return t=t||"\u8bf7\u6c42\u4e2d...",n=n||1,i.q.hide(),i.q.loading(t,n,(function(){console.log("Load complete !!!")})),s=sessionStorage.token?sessionStorage.token:"",e.headers.token=s,e}),(function(e){var t;return t="\u8bf7\u6c42\u5931\u8d25-\u7f51\u7edc\u5f02\u5e38",i.q.hide(),i.q.offline(t,1),Promise.reject(e)})),r.a.interceptors.response.use((function(e){return console.log(e),"3000"==e.data.code&&o.c.push("/login"),e.data.type?l(e.data.msg):0==e.data.type?u(e.data.msg):l(e.data.msg),e}),(function(e){return u("\u54cd\u5e94\u5931\u8d25-\u670d\u52a1\u5668\u5f02\u5e38"),Promise.reject(e)}))},300:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(38),r=n(39),i=n(41),o=n(40),c=n(42),s=(n(301),n(0)),u=n.n(s),l=n(58),p=n(297),f=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"handleGoBack",value:function(e){e&&p.c.goBack()}},{key:"goToSearch",value:function(){p.c.push("/search")}},{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.show,r=t.search;return u.a.createElement("div",null,u.a.createElement(l.k,{mode:"light",icon:a&&u.a.createElement(l.h,{type:"left"}),onLeftClick:function(){return e.handleGoBack(a)},rightContent:[!r&&u.a.createElement(l.h,{onClick:this.goToSearch.bind(this),key:"0",type:"search",style:{marginRight:"16px"}}),u.a.createElement(m,{scan:this.props.scan,login:this.props.login,key:1})]}," ",n," "))}}]),t}(s.Component),h=l.m.Item,b=function(e){return u.a.createElement("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/".concat(e,".svg"),className:"am-icon am-icon-xs",alt:""})},m=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={visible:!1,selected:""},n.handleVisibleChange=function(e){n.setState({visible:e})},n.onSelect=function(e){console.log(e.props.value),n.setState({visible:!1,selected:e.props.value}),"login"==e.props.value?p.c.push("/login"):"scan"==e.props.value?p.c.push("/scan"):n.showActionSheet()},n.showActionSheet=function(){var e=["\u62cd\u7167","\u4ece\u624b\u673a\u76f8\u518c\u9009\u62e9","\u4f7f\u7528\u76f8\u673a\u62cd\u7167","\u5220\u9664","\u53d6\u6d88"];l.a.showActionSheetWithOptions({options:e,cancelButtonIndex:e.length-1,destructiveButtonIndex:e.length-2,message:"wh1910-app",maskClosable:!0,"data-seed":"logId",wrapProps:{onTouchStart:function(e){return e.preventDefault()}}},(function(e){console.log(e)}))},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.scan,n=e.login;return u.a.createElement("div",null,u.a.createElement(l.m,{mask:!0,overlayClassName:"fortest",overlayStyle:{color:"currentColor"},visible:this.state.visible,overlay:[!t&&u.a.createElement(h,{key:"4",value:"scan",icon:b("tOtXhkIWzwotgGSeptou"),"data-seed":"logId"},"\u626b\u4e00\u626b"),u.a.createElement(h,{key:"5",value:"photo",icon:b("PKAgAqZWJVNwKsAJSmXd"),style:{whiteSpace:"nowrap"}},"\u62cd\u7167"),!n&&u.a.createElement(h,{key:"6",value:"login",icon:b("uQIYTFeRrjPELImDRrPt")},u.a.createElement("span",{style:{marginRight:5}},"\u767b\u5f55"))],align:{overflow:{adjustY:0,adjustX:0},offset:[-10,0]},onVisibleChange:this.handleVisibleChange,onSelect:this.onSelect},u.a.createElement(l.h,{type:"ellipsis"})))}}]),t}(s.Component)},301:function(e,t,n){},304:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"i",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"j",(function(){return b})),n.d(t,"c",(function(){return m}));var a=n(303),r=n.n(a),i=n(297);function o(e){return{type:"changeMobile",payload:e}}function c(e){return{type:"clearmobile",payload:e}}function s(e){var t,n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.url,a.next=3,r.a.awrap(i.a.get(t));case 3:return n=a.sent,a.abrupt("return",{type:"getBanner",payload:n.data.result});case 5:case"end":return a.stop()}}))}function u(e){var t,n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.url,a.next=3,r.a.awrap(i.a.get(t));case 3:return n=a.sent,a.abrupt("return",{type:"getItem",payload:n.data.result});case 5:case"end":return a.stop()}}))}function l(e){var t,n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.url,a.next=3,r.a.awrap(i.a.get(t));case 3:return n=a.sent,a.abrupt("return",{type:"getHot",payload:n.data.result});case 5:case"end":return a.stop()}}))}function p(e){var t,n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.url,a.next=3,r.a.awrap(i.a.get(t));case 3:return n=a.sent,a.abrupt("return",{type:"getHots",payload:n.data.result});case 5:case"end":return a.stop()}}))}function f(e){var t,n,a;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.url,n=e.params,o.next=3,r.a.awrap(i.a.get(t,{params:n}));case 3:return a=o.sent,o.abrupt("return",{type:"getGoodList",payload:a.data.result});case 5:case"end":return o.stop()}}))}function h(){return{type:"changeGoodListReverse"}}function b(e){var t,n,a;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.url,n=e.params,o.next=3,r.a.awrap(i.a.get(t,{params:n}));case 3:return a=o.sent,o.abrupt("return",{type:"getSearchList",payload:a.data.result});case 5:case"end":return o.stop()}}))}function m(){return{type:"changeSearchListReverse"}}},311:function(e,t,n){"use strict";var a,r,i,o,c,s,u,l,p,f,h,b,m,d,g,v,y,j,O=n(303),w=n.n(O),_=n(307),k=n(38),E=n(39),x=n(308),C=(n(309),n(306)),S=n(297),I=(a=function(){function e(){Object(k.a)(this,e),Object(_.a)(this,"goodsId",r,this),Object(_.a)(this,"count",i,this),Object(_.a)(this,"flag",o,this),Object(_.a)(this,"over_image_url",c,this),Object(_.a)(this,"sale_point",s,this),Object(_.a)(this,"item_name",u,this),Object(_.a)(this,"min_price",l,this),Object(_.a)(this,"goodsInfo",p,this),Object(_.a)(this,"mylove",f,this),Object(_.a)(this,"inTocart",h,this),Object(_.a)(this,"countAdd",b,this),Object(_.a)(this,"countDesc",m,this),Object(_.a)(this,"getFlag",d,this),Object(_.a)(this,"getFlag2",g,this),Object(_.a)(this,"insertMyLove",v,this),Object(_.a)(this,"getGoodsMsg",y,this),Object(_.a)(this,"inToCart",j,this)}return Object(E.a)(e,[{key:"newCount",get:function(){return 2*this.count}}]),e}(),r=Object(x.a)(a.prototype,"goodsId",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i=Object(x.a)(a.prototype,"count",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),o=Object(x.a)(a.prototype,"flag",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=Object(x.a)(a.prototype,"over_image_url",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=Object(x.a)(a.prototype,"sale_point",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=Object(x.a)(a.prototype,"item_name",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=Object(x.a)(a.prototype,"min_price",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=Object(x.a)(a.prototype,"goodsInfo",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=Object(x.a)(a.prototype,"mylove",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=Object(x.a)(a.prototype,"inTocart",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=Object(x.a)(a.prototype,"countAdd",[C.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.count++}}}),m=Object(x.a)(a.prototype,"countDesc",[C.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.count--}}}),Object(x.a)(a.prototype,"newCount",[C.e],Object.getOwnPropertyDescriptor(a.prototype,"newCount"),a.prototype),d=Object(x.a)(a.prototype,"getFlag",[C.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){return e.flag=!e.flag}}}),g=Object(x.a)(a.prototype,"getFlag2",[C.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var a;return w.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,w.a.awrap(S.a.post("/react/getFlag",{goodsName:t,mobile:n}));case 2:return a=r.sent,r.abrupt("return",e.flag=a.data.flag);case 4:case"end":return r.stop()}}))}}}),v=Object(x.a)(a.prototype,"insertMyLove",[C.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n,a,r,i){var o;return w.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return console.log(r,i),c.next=3,w.a.awrap(S.a.post("/react/insertmylove",{flag:t,goodsName:n,mobile:a,over_image_url:r,sale_point:i}));case 3:return o=c.sent,c.abrupt("return",e.mylove=o.data.result);case 5:case"end":return c.stop()}}))}}}),y=Object(x.a)(a.prototype,"getGoodsMsg",[C.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n;return w.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.a.awrap(S.a.post("/react/getgoodsmsg",{goodsId:t}));case 2:return n=a.sent,a.abrupt("return",(e.goodsInfo=n.data.result,e.over_image_url=n.data.result.over_image_url,e.sale_point,n.data.result.sale_point,e.item_name=n.data.result.item_name,e.min_price==n.data.result.min_price));case 4:case"end":return a.stop()}}))}}}),j=Object(x.a)(a.prototype,"inToCart",[C.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n,a,r,i,o,c){var s;return w.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,w.a.awrap(S.a.post("/react/intocart",{mobile:t,goodsName:n,count:a,over_image_url:r,sale_point:i,item_name:o,min_price:c}));case 2:return s=u.sent,u.abrupt("return",e.inTocart=s.data.result);case 4:case"end":return u.stop()}}))}}}),a);t.a=new I},351:function(e,t,n){},352:function(e,t,n){},353:function(e,t,n){},365:function(e,t,n){"use strict";n.r(t);var a,r,i,o=n(38),c=n(39),s=n(41),u=n(40),l=n(42),p=(n(351),n(0)),f=n.n(p),h=n(300),b=n(58),m=n(118),d=n(304),g=(n(352),n(353),n(9),n(297)),v=n(311),y=n(310),j=Object(y.a)(a=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"goToDetail",value:function(e){e=this.props.item;g.c.push("/detail/".concat(e.item_id,"?goodsName=").concat(e.item_name))}},{key:"insertcart",value:function(e){var t=this.props.item.item_name,n=sessionStorage.mobile,a=v.a.count,r=this.props.item.over_image_url,i=this.props.item.sale_point,o=this.props.item.item_name,c=this.props.item.min_price;v.a.inToCart(n,t,a,r,i,o,c),console.log(o,i,c)}},{key:"render",value:function(){var e=this,t=this.props.item;v.a.count,v.a.getGoodsMsg,v.a.goodsInfo,v.a.getFlag,v.a.insertMyLove,v.a.getFlag2,v.a.inToCart,v.a.over_image_url,v.a.sale_point;return f.a.createElement("div",{className:"box"},f.a.createElement("div",{className:"box_item"},f.a.createElement("div",{className:"fadeIn-in showitem",onClick:function(){return e.goToDetail(t)}},f.a.createElement(b.s,null,f.a.createElement(b.r,null),f.a.createElement("img",{style:{width:"100%",height:"3rem"},src:t.over_image_url,alt:""}),f.a.createElement("span",{className:"style"},t.promotions),f.a.createElement("h2",{style:{fontSize:14,color:"skyblue"}},f.a.createElement("p",{style:{fontSize:"12px",color:"#999",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},"   ",t.item_name),f.a.createElement("p",{style:{color:"red"}},"\uffe5",t.min_price/100)),f.a.createElement(b.r,null))),f.a.createElement("span",{className:"gowuc",style:{backgroundColor:"#ffe2ec",color:"#ff6692"}},t.specials),f.a.createElement("span",{onClick:function(){return e.insertcart()}},f.a.createElement("i",{className:"iconfont icon-gouwuche1 gouwuchebtn"}))))}}]),t}(p.Component))||a,O=n(298),w=Object(m.b)()(r=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={refreshing:!1},e}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.tab,t.good);t.search;return console.log(n),f.a.createElement("div",null,f.a.createElement(b.n,{className:"fadeIn-in",damping:60,ref:function(t){return e.ptr=t},style:{overflow:"auto"},indicator:{deactivate:"\u4e0a\u62c9\u53ef\u4ee5\u5237\u65b0"},direction:"down",refreshing:this.state.refreshing,onRefresh:function(){e.setState({refreshing:!0}),setTimeout((function(){var t=e.props,n=t.dispatch;n(t.search?Object(d.c)():Object(d.a)()),Object(O.c)("\u4e0b\u62c9\u5237\u65b0\u6210\u529f"),e.setState({refreshing:!1})}),1e3)}},n.map((function(e,t){return f.a.createElement(j,{key:t,item:e})}))))}}]),t}(p.Component))||r,_=Object(m.b)((function(e){return{hots:e.getIn(["classify","hots"]),goodList:e.getIn(["classify","goodList"])}}))(i=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){!this.props.goodList.length>0&&this.props.dispatch(Object(d.f)({url:"/react/getGoodList"})),this.props.dispatch(Object(d.h)({url:"/react/hot"}))}},{key:"render",value:function(){var e=this.props,t=e.hots,n=e.goodList;console.log(this.props.hots);var a=[];t.forEach((function(e){var t={};t.text=e,a.push(t)}));var r=a.map((function(e){return e.title=e.text,e}));return f.a.createElement("div",null,f.a.createElement(h.a,{title:"\u5546\u54c1"}),f.a.createElement("div",{className:"classifybox "},f.a.createElement(b.p,{tabs:r,className:"fadeIn-in fadeOut-out  ",initialPage:0,tabBarActiveTextColor:"#ff005a"},a.map((function(e,t){return f.a.createElement(w,{className:"fadeIn-in fadeOut-out ",key:t,tab:e,good:n.filter((function(t){return t.brand_name==e.text}))})})))))}}]),t}(p.Component))||i;t.default=_}}]);
//# sourceMappingURL=7.9df9ec1e.chunk.js.map