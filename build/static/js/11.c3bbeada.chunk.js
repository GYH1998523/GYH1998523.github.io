(this["webpackJsonpreact-app2"]=this["webpackJsonpreact-app2"]||[]).push([[11],{297:function(e,t,a){"use strict";var n=a(16),o=a(298);a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return o.a})),a.d(t,"b",(function(){return o.b}));var r=new n.b},298:function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return c}));var n=a(299),o=a.n(n);a.d(t,"a",(function(){return o.a}));var r=a(58),i=a(297),c="https://47.100.174.253:2020/",s="";function l(e){r.q.hide(),r.q.fail(e,1)}function u(e){r.q.hide(),r.q.success(e,1)}o.a.defaults.baseURL=c,o.a.defaults.headers.common.token=s,o.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",o.a.interceptors.request.use((function(e){var t,a;return t=t||"\u8bf7\u6c42\u4e2d...",a=a||1,r.q.hide(),r.q.loading(t,a,(function(){console.log("Load complete !!!")})),s=sessionStorage.token?sessionStorage.token:"",e.headers.token=s,e}),(function(e){var t;return t="\u8bf7\u6c42\u5931\u8d25-\u7f51\u7edc\u5f02\u5e38",r.q.hide(),r.q.offline(t,1),Promise.reject(e)})),o.a.interceptors.response.use((function(e){return console.log(e),"3000"==e.data.code&&i.c.push("/login"),e.data.type?u(e.data.msg):0==e.data.type?l(e.data.msg):u(e.data.msg),e}),(function(e){return l("\u54cd\u5e94\u5931\u8d25-\u670d\u52a1\u5668\u5f02\u5e38"),Promise.reject(e)}))},300:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(38),o=a(39),r=a(41),i=a(40),c=a(42),s=(a(301),a(0)),l=a.n(s),u=a(58),m=a(297),p=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"handleGoBack",value:function(e){e&&m.c.goBack()}},{key:"goToSearch",value:function(){m.c.push("/search")}},{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.show,o=t.search;return l.a.createElement("div",null,l.a.createElement(u.k,{mode:"light",icon:n&&l.a.createElement(u.h,{type:"left"}),onLeftClick:function(){return e.handleGoBack(n)},rightContent:[!o&&l.a.createElement(u.h,{onClick:this.goToSearch.bind(this),key:"0",type:"search",style:{marginRight:"16px"}}),l.a.createElement(g,{scan:this.props.scan,login:this.props.login,key:1})]}," ",a," "))}}]),t}(s.Component),b=u.m.Item,f=function(e){return l.a.createElement("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/".concat(e,".svg"),className:"am-icon am-icon-xs",alt:""})},g=function(e){function t(){var e,a;Object(n.a)(this,t);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return(a=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={visible:!1,selected:""},a.handleVisibleChange=function(e){a.setState({visible:e})},a.onSelect=function(e){console.log(e.props.value),a.setState({visible:!1,selected:e.props.value}),"login"==e.props.value?m.c.push("/login"):"scan"==e.props.value?m.c.push("/scan"):a.showActionSheet()},a.showActionSheet=function(){var e=["\u62cd\u7167","\u4ece\u624b\u673a\u76f8\u518c\u9009\u62e9","\u4f7f\u7528\u76f8\u673a\u62cd\u7167","\u5220\u9664","\u53d6\u6d88"];u.a.showActionSheetWithOptions({options:e,cancelButtonIndex:e.length-1,destructiveButtonIndex:e.length-2,message:"wh1910-app",maskClosable:!0,"data-seed":"logId",wrapProps:{onTouchStart:function(e){return e.preventDefault()}}},(function(e){console.log(e)}))},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.scan,a=e.login;return l.a.createElement("div",null,l.a.createElement(u.m,{mask:!0,overlayClassName:"fortest",overlayStyle:{color:"currentColor"},visible:this.state.visible,overlay:[!t&&l.a.createElement(b,{key:"4",value:"scan",icon:f("tOtXhkIWzwotgGSeptou"),"data-seed":"logId"},"\u626b\u4e00\u626b"),l.a.createElement(b,{key:"5",value:"photo",icon:f("PKAgAqZWJVNwKsAJSmXd"),style:{whiteSpace:"nowrap"}},"\u62cd\u7167"),!a&&l.a.createElement(b,{key:"6",value:"login",icon:f("uQIYTFeRrjPELImDRrPt")},l.a.createElement("span",{style:{marginRight:5}},"\u767b\u5f55"))],align:{overflow:{adjustY:0,adjustX:0},offset:[-10,0]},onVisibleChange:this.handleVisibleChange,onSelect:this.onSelect},l.a.createElement(u.h,{type:"ellipsis"})))}}]),t}(s.Component)},301:function(e,t,a){},311:function(e,t,a){"use strict";var n,o,r,i,c,s,l,u,m,p,b,f,g,d,h,v,y,_,j=a(303),w=a.n(j),O=a(307),E=a(38),x=a(39),k=a(308),N=(a(309),a(306)),C=a(297),I=(n=function(){function e(){Object(E.a)(this,e),Object(O.a)(this,"goodsId",o,this),Object(O.a)(this,"count",r,this),Object(O.a)(this,"flag",i,this),Object(O.a)(this,"over_image_url",c,this),Object(O.a)(this,"sale_point",s,this),Object(O.a)(this,"item_name",l,this),Object(O.a)(this,"min_price",u,this),Object(O.a)(this,"goodsInfo",m,this),Object(O.a)(this,"mylove",p,this),Object(O.a)(this,"inTocart",b,this),Object(O.a)(this,"countAdd",f,this),Object(O.a)(this,"countDesc",g,this),Object(O.a)(this,"getFlag",d,this),Object(O.a)(this,"getFlag2",h,this),Object(O.a)(this,"insertMyLove",v,this),Object(O.a)(this,"getGoodsMsg",y,this),Object(O.a)(this,"inToCart",_,this)}return Object(x.a)(e,[{key:"newCount",get:function(){return 2*this.count}}]),e}(),o=Object(k.a)(n.prototype,"goodsId",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),r=Object(k.a)(n.prototype,"count",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),i=Object(k.a)(n.prototype,"flag",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=Object(k.a)(n.prototype,"over_image_url",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=Object(k.a)(n.prototype,"sale_point",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=Object(k.a)(n.prototype,"item_name",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=Object(k.a)(n.prototype,"min_price",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=Object(k.a)(n.prototype,"goodsInfo",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=Object(k.a)(n.prototype,"mylove",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=Object(k.a)(n.prototype,"inTocart",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=Object(k.a)(n.prototype,"countAdd",[N.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.count++}}}),g=Object(k.a)(n.prototype,"countDesc",[N.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.count--}}}),Object(k.a)(n.prototype,"newCount",[N.e],Object.getOwnPropertyDescriptor(n.prototype,"newCount"),n.prototype),d=Object(k.a)(n.prototype,"getFlag",[N.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){return e.flag=!e.flag}}}),h=Object(k.a)(n.prototype,"getFlag2",[N.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,a){var n;return w.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,w.a.awrap(C.a.post("/react/getFlag",{goodsName:t,mobile:a}));case 2:return n=o.sent,o.abrupt("return",e.flag=n.data.flag);case 4:case"end":return o.stop()}}))}}}),v=Object(k.a)(n.prototype,"insertMyLove",[N.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,a,n,o,r){var i;return w.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return console.log(o,r),c.next=3,w.a.awrap(C.a.post("/react/insertmylove",{flag:t,goodsName:a,mobile:n,over_image_url:o,sale_point:r}));case 3:return i=c.sent,c.abrupt("return",e.mylove=i.data.result);case 5:case"end":return c.stop()}}))}}}),y=Object(k.a)(n.prototype,"getGoodsMsg",[N.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a;return w.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.a.awrap(C.a.post("/react/getgoodsmsg",{goodsId:t}));case 2:return a=n.sent,n.abrupt("return",(e.goodsInfo=a.data.result,e.over_image_url=a.data.result.over_image_url,e.sale_point,a.data.result.sale_point,e.item_name=a.data.result.item_name,e.min_price==a.data.result.min_price));case 4:case"end":return n.stop()}}))}}}),_=Object(k.a)(n.prototype,"inToCart",[N.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,a,n,o,r,i,c){var s;return w.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,w.a.awrap(C.a.post("/react/intocart",{mobile:t,goodsName:a,count:n,over_image_url:o,sale_point:r,item_name:i,min_price:c}));case 2:return s=l.sent,l.abrupt("return",e.inTocart=s.data.result);case 4:case"end":return l.stop()}}))}}}),n);t.a=new I},344:function(e,t,a){},363:function(e,t,a){"use strict";a.r(t);var n,o=a(38),r=a(39),i=a(41),c=a(40),s=a(42),l=(a(344),a(0)),u=a.n(l),m=a(300),p=a(297),b=a(311),f=a(310),g=a(58),d=Object(f.a)(n=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).inMylOVE=function(){var e=new URLSearchParams(a.props.location.search).get("goodsName");b.a.getFlag(b.a.flag);var t=b.a.flag,n=sessionStorage.mobile,o=b.a.over_image_url,r=b.a.goodsInfo.sale_point;b.a.insertMyLove(t,e,n,o,r)},a.insertCart=function(){var e=new URLSearchParams(a.props.location.search).get("goodsName"),t=sessionStorage.mobile,n=b.a.count,o=b.a.over_image_url,r=b.a.goodsInfo.sale_point,i=b.a.goodsInfo.item_name,c=b.a.goodsInfo.min_price;b.a.inToCart(t,e,n,o,r,i,c)},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=new URLSearchParams(this.props.location.search).get("goodsName");b.a.getGoodsMsg(e);var t=new URLSearchParams(this.props.location.search).get("goodsName"),a=sessionStorage.mobile;b.a.getFlag2(t,a)}},{key:"byGood",value:function(){p.c.push("/main/cart")}},{key:"render",value:function(){var e=this,t=this.props.location,a=(b.a.count,b.a.getGoodsMsg,b.a.goodsInfo,b.a.getFlag,b.a.insertMyLove,b.a.getFlag2,b.a.inToCart,b.a.over_image_url,b.a.sale_point,b.a.flag);return u.a.createElement("div",null,u.a.createElement(m.a,{title:new URLSearchParams(t.search).get("goodsName").slice(0,12)+"...",search:!0,show:!0}),b.a.goodsInfo&&u.a.createElement("div",{className:"detail_box"},b.a.goodsInfo.over_image_url&&u.a.createElement("div",{className:"detail_box_imgbox"},u.a.createElement("img",{src:b.a.goodsInfo.over_image_url,alt:""})),u.a.createElement("div",{className:"detail_box_session"},u.a.createElement("h2",{className:"detail_box_title"},b.a.goodsInfo.item_name,u.a.createElement("span",{onClick:function(){return e.inMylOVE()}},u.a.createElement("i",{className:"iconfont  icon-xihuan link",style:a&&a?{color:" #ff6692"}:{color:"black"}}))),u.a.createElement("p",{className:"box_p1"},"\uffe5",b.a.goodsInfo.min_price/100),u.a.createElement("div",null,b.a.goodsInfo.sale_point),b.a.goodsInfo.item_groups&&b.a.goodsInfo.item_groups.map((function(e,t){return u.a.createElement("div",{className:"box_huodong",key:t},u.a.createElement("p",null,e.activity_name),u.a.createElement("p",null,e.activity_brief),u.a.createElement("p",null,e.activity_title))})),u.a.createElement("div",{className:"box_youhuiquan"},u.a.createElement("div",{className:"box_yhq_title"}),u.a.createElement("div",{className:"box_tag"},"\u6ee120\u900110\u5238"),u.a.createElement("div",{className:"box_tag"},"\u6ee160\u900130\u5238"),u.a.createElement("div",{className:"box_tag"},"\u6ee1120\u5012\u8d34120\u5238")),u.a.createElement("div",{className:"box_mz"},u.a.createElement(g.b,{text:"\u6ee1\u8d60",style:{padding:"0 3px",backgroundColor:"#fff",borderRadius:2,color:"#ff6692",border:"1px solid #ff6692"}}),u.a.createElement("span",{className:"box_mz1"},b.a.goodsInfo.promotions)),u.a.createElement("div",{className:"box_mz"},u.a.createElement(g.b,{text:"\u5168\u573a\u5305\u90ae",style:{padding:"0 3px",backgroundColor:"#fff",borderRadius:2,color:"#ff6692",border:"1px solid #ff6692"}}),u.a.createElement("span",{className:"box_mz1"}," \u8d2d\u4e70\u5373\u53d1\u987a\u4e30\u901f\u90ae ")),u.a.createElement("div",{className:"box_mz"},u.a.createElement(g.b,{text:"\u4f1a\u5458\u7279\u6743",style:{padding:"0 3px",backgroundColor:"#fff",borderRadius:2,color:"#ff6692",border:"1px solid #ff6692"}}),u.a.createElement("span",{className:"box_mz1"},"\u4f1a\u5458\u4eab\u53d70.7\u6298")),u.a.createElement("img",{style:{width:"100%"},src:"https://image.watsons.com.cn//upload/718a4c90.jpg?x-oss-process=image/format,webp/interlace,1/quality,Q_70",alt:""}),u.a.createElement("img",{style:{width:"100%"},src:"https://image.watsons.com.cn/upload/b8b2fafd.jpeg?x-oss-process=image/format,webp/interlace,1/quality,Q_70",alt:""}))),u.a.createElement("div",{className:"detail_foot"},u.a.createElement("div",{className:"detail_gocart",onClick:this.insertCart},"\u52a0\u5165\u8d2d\u7269\u8f66"),u.a.createElement("div",{className:"detail_by",onClick:this.byGood},"\u7acb\u5373\u8d2d\u4e70")))}}]),t}(l.Component))||n;t.default=d}}]);
//# sourceMappingURL=11.c3bbeada.chunk.js.map