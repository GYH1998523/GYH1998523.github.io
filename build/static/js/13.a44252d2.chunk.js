(this["webpackJsonpreact-app2"]=this["webpackJsonpreact-app2"]||[]).push([[13],{297:function(e,t,a){"use strict";var n=a(16),o=a(298);a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return o.a})),a.d(t,"b",(function(){return o.b}));var r=new n.b},298:function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return c}));var n=a(299),o=a.n(n);a.d(t,"a",(function(){return o.a}));var r=a(58),i=a(297),c="https://47.100.174.253:2020/",l="";function s(e){r.q.hide(),r.q.fail(e,1)}function u(e){r.q.hide(),r.q.success(e,1)}o.a.defaults.baseURL=c,o.a.defaults.headers.common.token=l,o.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",o.a.interceptors.request.use((function(e){var t,a;return t=t||"\u8bf7\u6c42\u4e2d...",a=a||1,r.q.hide(),r.q.loading(t,a,(function(){console.log("Load complete !!!")})),l=sessionStorage.token?sessionStorage.token:"",e.headers.token=l,e}),(function(e){var t;return t="\u8bf7\u6c42\u5931\u8d25-\u7f51\u7edc\u5f02\u5e38",r.q.hide(),r.q.offline(t,1),Promise.reject(e)})),o.a.interceptors.response.use((function(e){return console.log(e),"3000"==e.data.code&&i.c.push("/login"),e.data.type?u(e.data.msg):0==e.data.type?s(e.data.msg):u(e.data.msg),e}),(function(e){return s("\u54cd\u5e94\u5931\u8d25-\u670d\u52a1\u5668\u5f02\u5e38"),Promise.reject(e)}))},300:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(38),o=a(39),r=a(41),i=a(40),c=a(42),l=(a(301),a(0)),s=a.n(l),u=a(58),g=a(297),f=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"handleGoBack",value:function(e){e&&g.c.goBack()}},{key:"goToSearch",value:function(){g.c.push("/search")}},{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.show,o=t.search;return s.a.createElement("div",null,s.a.createElement(u.k,{mode:"light",icon:n&&s.a.createElement(u.h,{type:"left"}),onLeftClick:function(){return e.handleGoBack(n)},rightContent:[!o&&s.a.createElement(u.h,{onClick:this.goToSearch.bind(this),key:"0",type:"search",style:{marginRight:"16px"}}),s.a.createElement(d,{scan:this.props.scan,login:this.props.login,key:1})]}," ",a," "))}}]),t}(l.Component),p=u.m.Item,m=function(e){return s.a.createElement("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/".concat(e,".svg"),className:"am-icon am-icon-xs",alt:""})},d=function(e){function t(){var e,a;Object(n.a)(this,t);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={visible:!1,selected:""},a.handleVisibleChange=function(e){a.setState({visible:e})},a.onSelect=function(e){console.log(e.props.value),a.setState({visible:!1,selected:e.props.value}),"login"==e.props.value?g.c.push("/login"):"scan"==e.props.value?g.c.push("/scan"):a.showActionSheet()},a.showActionSheet=function(){var e=["\u62cd\u7167","\u4ece\u624b\u673a\u76f8\u518c\u9009\u62e9","\u4f7f\u7528\u76f8\u673a\u62cd\u7167","\u5220\u9664","\u53d6\u6d88"];u.a.showActionSheetWithOptions({options:e,cancelButtonIndex:e.length-1,destructiveButtonIndex:e.length-2,message:"wh1910-app",maskClosable:!0,"data-seed":"logId",wrapProps:{onTouchStart:function(e){return e.preventDefault()}}},(function(e){console.log(e)}))},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.scan,a=e.login;return s.a.createElement("div",null,s.a.createElement(u.m,{mask:!0,overlayClassName:"fortest",overlayStyle:{color:"currentColor"},visible:this.state.visible,overlay:[!t&&s.a.createElement(p,{key:"4",value:"scan",icon:m("tOtXhkIWzwotgGSeptou"),"data-seed":"logId"},"\u626b\u4e00\u626b"),s.a.createElement(p,{key:"5",value:"photo",icon:m("PKAgAqZWJVNwKsAJSmXd"),style:{whiteSpace:"nowrap"}},"\u62cd\u7167"),!a&&s.a.createElement(p,{key:"6",value:"login",icon:m("uQIYTFeRrjPELImDRrPt")},s.a.createElement("span",{style:{marginRight:5}},"\u767b\u5f55"))],align:{overflow:{adjustY:0,adjustX:0},offset:[-10,0]},onVisibleChange:this.handleVisibleChange,onSelect:this.onSelect},s.a.createElement(u.h,{type:"ellipsis"})))}}]),t}(l.Component)},301:function(e,t,a){},345:function(e,t,a){},366:function(e,t,a){"use strict";a.r(t);var n,o,r,i,c,l,s,u,g,f,p,m,d,h=a(38),b=a(39),v=a(41),y=a(40),j=a(42),w=(a(345),a(0)),O=a.n(w),k=(a(9),a(300)),E=a(297),S=a(303),x=a.n(S),C=a(307),N=a(308),z=(a(309),a(306)),I=new(n=function e(){Object(h.a)(this,e),Object(C.a)(this,"flag",o,this),Object(C.a)(this,"mylove",r,this),Object(C.a)(this,"getmylove1",i,this),Object(C.a)(this,"gotodetail1",c,this),Object(C.a)(this,"goodsId",l,this),Object(C.a)(this,"goodsName",s,this),Object(C.a)(this,"getFlag",u,this),Object(C.a)(this,"getFlag2",g,this),Object(C.a)(this,"getmylove",f,this),Object(C.a)(this,"insertMyLove",p,this),Object(C.a)(this,"gotodetail",m,this)},o=Object(N.a)(n.prototype,"flag",[z.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),r=Object(N.a)(n.prototype,"mylove",[z.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=Object(N.a)(n.prototype,"getmylove1",[z.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=Object(N.a)(n.prototype,"gotodetail1",[z.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=Object(N.a)(n.prototype,"goodsId",[z.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=Object(N.a)(n.prototype,"goodsName",[z.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=Object(N.a)(n.prototype,"getFlag",[z.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){return e.flag=!e.flag}}}),g=Object(N.a)(n.prototype,"getFlag2",[z.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,a){var n;return x.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return console.log(11),o.next=3,x.a.awrap(E.a.post("/react/getFlag",{id:t,mobile:a}));case 3:return n=o.sent,o.abrupt("return",e.flag=n.data.flag);case 5:case"end":return o.stop()}}))}}}),f=Object(N.a)(n.prototype,"getmylove",[z.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a;return x.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.a.awrap(E.a.post("/react/getmylove",{mobile:t}));case 2:return a=n.sent,console.log(a),n.abrupt("return",(e.getmylove1=a.data.result,e.flag=a.data.flag));case 5:case"end":return n.stop()}}))}}}),p=Object(N.a)(n.prototype,"insertMyLove",[z.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,a,n){var o;return x.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,x.a.awrap(E.a.post("/react/insertmylove1",{flag:t,id:a,mobile:n}));case 2:return o=r.sent,r.abrupt("return",e.mylove=o.data.result);case 4:case"end":return r.stop()}}))}}}),m=Object(N.a)(n.prototype,"gotodetail",[z.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a;return x.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.a.awrap(E.a.post("/react/gotodetail",{id:t}));case 2:a=n.sent,e.goodsName=a.data.result.item_name,e.goodsId=a.data.result.item_id,E.c.push("/detail/".concat(e.goodsId,"?goodsName=").concat(e.goodsName));case 6:case"end":return n.stop()}}))}}}),n),q=a(310),F=Object(q.a)(d=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(v.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).inMylOVE=function(e){I.getFlag(I.flag);var t=I.flag,n=sessionStorage.mobile,o=a[e].value;I.insertMyLove(t,o,n),I.getFlag2(o,n),setTimeout((function(){window.location.reload()}),800)},a.gotodeclassify=function(){},a.gotodetail=function(e){var t=a[e].value;I.gotodetail(t)},a.change=function(){},a}return Object(j.a)(t,e),Object(b.a)(t,[{key:"componentWillMount",value:function(){var e=sessionStorage.mobile;console.log(e),I.getmylove(e),console.log(I.getmylove1);I.getmylove1.goodsName,e=sessionStorage.mobile}},{key:"render",value:function(){var e=this,t=(I.insertMyLove,I.gotodetail,I.gotodetail1,I.getmylove,I.getmylove1);I.flag,I.getFlag2;return O.a.createElement("div",{className:"box"},O.a.createElement(k.a,{title:"\u6211\u7684\u559c\u6b22",show:"true"}),t.length>0&&t.map((function(t,a){return O.a.createElement("div",{className:"box_mylove",key:a},O.a.createElement("div",{className:"mylove_img"},O.a.createElement("img",{src:t.over_image_url,alt:""})),O.a.createElement("div",{className:"mylove_common"},O.a.createElement("p",{onClick:function(){return e.gotodetail(a)},goodsid:t._id},t.goodsName),O.a.createElement("input",{type:"text",style:{display:"none"},ref:function(t){return e[a]=t},value:t._id,onChange:e.change})),O.a.createElement("div",{className:"setlove"},O.a.createElement("p",{className:"iconfont icon-xihuan love",onClick:function(){return e.inMylOVE(a)},style:t.flag&&t.flag?{color:" #ff6692"}:{color:"black"}})))})),!t.length>0&&O.a.createElement("div",{className:"nomylove"},O.a.createElement("p",null,"\u60a8\u8fd8\u6ca1\u6dfb\u52a0\u559c\u6b22\u7684\u5546\u54c1\u5462"),O.a.createElement("button",{onClick:this.gotodeclassify},"\u53bb\u770b\u770b")))}}]),t}(w.Component))||d;t.default=F}}]);
//# sourceMappingURL=13.a44252d2.chunk.js.map