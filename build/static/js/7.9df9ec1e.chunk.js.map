{"version":3,"sources":["utils/index.js","utils/axios.js","scripts/components/head/index.js","scripts/react-redux/actions/index.js","scripts/mobx/detail.js","scripts/components/item/index.js","scripts/components/list/index.js","scripts/views/classify/index.js"],"names":["history","createHashHistory","baseURL","token","fail","msg","Toast","hide","success","axios","defaults","headers","common","post","interceptors","request","use","config","time","loading","console","log","sessionStorage","error","offline","Promise","reject","response","data","code","push","type","Head","show","goBack","this","props","title","search","mode","icon","onLeftClick","handleGoBack","rightContent","onClick","goToSearch","bind","key","style","marginRight","Pop","scan","login","Component","Item","Popover","myImg","src","className","alt","state","visible","selected","handleVisibleChange","setState","onSelect","opt","value","showActionSheet","BUTTONS","ActionSheet","showActionSheetWithOptions","options","cancelButtonIndex","length","destructiveButtonIndex","message","maskClosable","wrapProps","onTouchStart","e","preventDefault","buttonIndex","mask","overlayClassName","overlayStyle","color","overlay","data-seed","whiteSpace","align","overflow","adjustY","adjustX","offset","onVisibleChange","changeMobile","payload","clearmobile","getBanner","a","async","url","get","res","result","getItem","getHot","getHots","getGoodList","params","changeGoodListReverse","getSearchList","changeSearchListReverse","Detail","count","observable","action","computed","flag","goodsName","mobile","over_image_url","sale_point","mylove","goodsId","goodsInfo","item_name","min_price","inTocart","observer","item","item_id","detail","inToCart","getGoodsMsg","getFlag","insertMyLove","getFlag2","goToDetail","width","height","promotions","fontSize","textOverflow","backgroundColor","specials","insertcart","List","connect","refreshing","good","tab","damping","ref","el","ptr","indicator","deactivate","direction","onRefresh","setTimeout","dispatch","map","index","ClassIfy","hots","getIn","goodList","aa","forEach","obj","text","tabs","initialPage","tabBarActiveTextColor","val","i","filter","brand_name"],"mappings":"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","file":"static/js/7.9df9ec1e.chunk.js","sourcesContent":["\r\nimport { createHashHistory } from \"history\"\r\n\r\nexport { config } from \"./config\"\r\n\r\n\r\nexport { axios, baseURL } from \"./axios\"\r\n\r\n\r\n\r\n\r\n\r\nexport const history = new createHashHistory()","\r\n\r\nimport axios from \"axios\";\r\nimport { Toast } from \"antd-mobile\"\r\nimport { history } from \"&\"\r\n// const baseURL = 'http://localhost:2020/'\r\n\r\n// const baseURL = 'http://47.100.174.253:2020/'\r\nconst baseURL = 'https://47.100.174.253:2020/'\r\n\r\nlet token = \"\";\r\naxios.defaults.baseURL = baseURL;\r\naxios.defaults.headers.common['token'] = token;\r\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\r\n\r\n\r\nexport function loadingToast(msg, time) {\r\n    msg = msg || \"请求中...\";\r\n    time = time || 1;\r\n    Toast.hide();\r\n    Toast.loading(msg, time, () => {\r\n        console.log('Load complete !!!');\r\n    });\r\n}\r\n\r\nexport function fail(msg) {\r\n    Toast.hide();\r\n    Toast.fail(msg, 1);\r\n}\r\n\r\nexport function offline(msg) {\r\n    Toast.hide();\r\n    Toast.offline(msg, 1);\r\n}\r\n\r\nexport function success(msg) {\r\n    Toast.hide()\r\n    Toast.success(msg, 1);\r\n}\r\naxios.interceptors.request.use(function (config) {\r\n\r\n    // 配置动画\r\n    loadingToast();\r\n    token = sessionStorage.token ? sessionStorage.token : \"\";\r\n    config.headers['token'] = token;\r\n    return config;\r\n}, function (error) {\r\n    // 请求失败错误提示 \r\n    offline(\"请求失败-网络异常\");\r\n    return Promise.reject(error);\r\n});\r\n\r\n\r\naxios.interceptors.response.use(function (response) {\r\n\r\n    console.log(response)\r\n    if (response.data.code == \"3000\") {\r\n        history.push(\"/login\");\r\n    }\r\n\r\n    if (!!response.data.type) {\r\n        success(response.data.msg);\r\n    } else {\r\n        if (response.data.type == 0) {\r\n            fail(response.data.msg)\r\n        } else {\r\n            success(response.data.msg)\r\n        }\r\n    }\r\n\r\n\r\n    return response;\r\n}, function (error) {\r\n\r\n    fail(\"响应失败-服务器异常\")\r\n    return Promise.reject(error);\r\n});\r\n\r\nexport { axios, baseURL }","import \"./index.scss\";\r\nimport React, { Component } from \"react\"\r\nimport {\r\n    NavBar, Icon, Popover, ActionSheet\r\n} from \"antd-mobile\"\r\nimport { history } from \"&\"\r\n\r\n\r\nexport default class Head extends Component {\r\n    handleGoBack(show) {\r\n        if (show) {\r\n            history.goBack();\r\n        }\r\n    }\r\n    goToSearch() {\r\n        history.push(\"/search\");\r\n    }\r\n    render() {\r\n        const {\r\n            title,\r\n            show,\r\n            search,\r\n        } = this.props\r\n        return (\r\n            <div>\r\n                <NavBar\r\n\r\n                    mode=\"light\"\r\n                    icon={show && <Icon type=\"left\" />}\r\n                    onLeftClick={() => this.handleGoBack(show)}\r\n                    rightContent={[\r\n                        !search && <Icon onClick={this.goToSearch.bind(this)} key=\"0\" type=\"search\" style={{ marginRight: '16px' }} />,\r\n                        <Pop scan={this.props.scan} login={this.props.login} key={1} />,\r\n                    ]}\r\n                > {title} </NavBar>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nconst Item = Popover.Item\r\nconst myImg = src => <img src={`https://gw.alipayobjects.com/zos/rmsportal/${src}.svg`} className=\"am-icon am-icon-xs\" alt=\"\" />;\r\n\r\n\r\nexport class Pop extends Component {\r\n    state = {\r\n        visible: false,\r\n        selected: \"\"\r\n    }\r\n    handleVisibleChange = (visible) => {\r\n        this.setState({\r\n            visible\r\n        })\r\n    }\r\n    onSelect = (opt) => {\r\n        console.log(opt.props.value);\r\n        this.setState({\r\n            visible: false,\r\n            selected: opt.props.value,\r\n        });\r\n\r\n        if (opt.props.value == \"login\") {\r\n            history.push(\"/login\");\r\n        } else if (opt.props.value == \"scan\") {\r\n            history.push(\"/scan\");\r\n        } else {\r\n            this.showActionSheet();\r\n        }\r\n    }\r\n    showActionSheet = () => {\r\n        const BUTTONS = ['拍照', '从手机相册选择', '使用相机拍照', '删除', '取消'];\r\n        ActionSheet.showActionSheetWithOptions({\r\n            options: BUTTONS,\r\n            cancelButtonIndex: BUTTONS.length - 1,\r\n            destructiveButtonIndex: BUTTONS.length - 2,\r\n            // title: 'title',\r\n            message: 'wh1910-app',\r\n            maskClosable: true,\r\n            'data-seed': 'logId',\r\n            wrapProps: {\r\n                onTouchStart: e => e.preventDefault(),\r\n            }\r\n        },\r\n            (buttonIndex) => {\r\n                console.log(buttonIndex)\r\n            });\r\n    }\r\n\r\n\r\n    render() {\r\n        const {\r\n            scan,\r\n            login\r\n        } = this.props\r\n        return (\r\n            <div>\r\n                <Popover\r\n                    mask\r\n                    overlayClassName=\"fortest\"\r\n                    overlayStyle={{ color: 'currentColor' }}\r\n                    visible={this.state.visible}\r\n                    overlay={[\r\n                        (!scan && <Item key=\"4\" value=\"scan\" icon={myImg('tOtXhkIWzwotgGSeptou')} data-seed=\"logId\">扫一扫</Item>),\r\n                        (<Item key=\"5\" value=\"photo\" icon={myImg('PKAgAqZWJVNwKsAJSmXd')} style={{ whiteSpace: 'nowrap' }}>拍照</Item>),\r\n                        (!login && <Item key=\"6\" value=\"login\" icon={myImg('uQIYTFeRrjPELImDRrPt')}>\r\n                            <span style={{ marginRight: 5 }}>登录</span>\r\n                        </Item>),\r\n                    ]}\r\n                    align={{\r\n                        overflow: { adjustY: 0, adjustX: 0 },\r\n                        offset: [-10, 0],\r\n                    }}\r\n                    onVisibleChange={this.handleVisibleChange}\r\n                    onSelect={this.onSelect}\r\n                >\r\n                    <Icon type=\"ellipsis\" />\r\n                </Popover>\r\n            </div>\r\n        )\r\n    }\r\n}","\r\nimport { axios } from \"&\"\r\n\r\nexport function changeMobile(payload) {\r\n\r\n    return {\r\n        type: \"changeMobile\",\r\n        payload: payload\r\n    }\r\n\r\n}\r\nexport function clearmobile(payload) {\r\n    return {\r\n        type: \"clearmobile\",\r\n        payload\r\n    }\r\n}\r\nexport function changeflag(payload) {\r\n    return {\r\n        type: \"changeflag\",\r\n        payload\r\n    }\r\n}\r\n\r\nexport function changeCode(payload) {\r\n    const cReg = /^\\d{4}$/\r\n\r\n    if (cReg.test(payload.code)) {\r\n\r\n\r\n        return {\r\n            type: \"changeCode\",\r\n            payload\r\n        }\r\n    } else {\r\n        return {\r\n            type: \"changeCode\",\r\n            payload\r\n        }\r\n    }\r\n}\r\n\r\nexport async function getMobile({ url }) {\r\n    const res = await axios.post(url);\r\n    return {\r\n        type: \"changeUser\",\r\n        payload: {\r\n            mobile: res.data.result\r\n        }\r\n    }\r\n}\r\n\r\nexport const changeUser = (payload) => {\r\n    return {\r\n        type: \"changeUser\",\r\n        payload\r\n    }\r\n}\r\n// =========================\r\n// 首页\r\nexport async function getBanner({ url }) {\r\n    var res = await axios.get(url)\r\n    return {\r\n        type: \"getBanner\",\r\n        payload: res.data.result\r\n    }\r\n}\r\nexport async function getItem({ url }) {\r\n    var res = await axios.get(url)\r\n    return {\r\n        type: \"getItem\",\r\n        payload: res.data.result\r\n    }\r\n}\r\n\r\nexport async function getHot({ url }) {\r\n    var res = await axios.get(url)\r\n    return {\r\n        type: \"getHot\",\r\n        payload: res.data.result\r\n    }\r\n}\r\nexport function getPic() {\r\n    return {\r\n        type: \"getPic\",\r\n\r\n    }\r\n}\r\n\r\n\r\n// export async function getSearchList({ url }) {\r\n//     var res = await axios.get(url)\r\n//     return {\r\n//         type: \"getSearchList\",\r\n//         payload: res.data.result\r\n//     }\r\n// }\r\n\r\n\r\n\r\nexport async function getHots({ url }) {\r\n    var res = await axios.get(url)\r\n    return {\r\n        type: \"getHots\",\r\n        payload: res.data.result\r\n    }\r\n}\r\n\r\nexport async function getGoodList({ url, params }) {\r\n    const res = await axios.get(url, { params });\r\n\r\n    return {\r\n        type: \"getGoodList\",\r\n\r\n        payload: res.data.result\r\n    }\r\n}\r\n\r\nexport function changeGoodListReverse() {\r\n    return {\r\n        type: \"changeGoodListReverse\",\r\n    }\r\n}\r\n\r\n\r\nexport async function getSearchList({ url, params }) {\r\n    const res = await axios.get(url, { params });\r\n    return {\r\n        type: \"getSearchList\",\r\n        payload: res.data.result\r\n    }\r\n}\r\n\r\n\r\nexport function changeSearchListReverse() {\r\n    return {\r\n        type: \"changeSearchListReverse\",\r\n    }\r\n}\r\n\r\n","import { observable, action, computed, autorun } from \"mobx\";\r\nimport { axios } from \"&\"\r\n\r\nclass Detail {\r\n    @observable goodsId = \"\"\r\n    @observable count = 1\r\n    @observable flag = \"\"\r\n    @observable over_image_url = \"\"\r\n    @observable sale_point = \"\"\r\n    @observable item_name = \"\"\r\n    @observable min_price = \"\"\r\n    @observable goodsInfo = []\r\n    @observable mylove = []\r\n    @observable inTocart = []\r\n\r\n\r\n    @action countAdd = () => {\r\n        this.count++\r\n\r\n    }\r\n    @action countDesc = () => {\r\n        this.count--\r\n    }\r\n    @computed get newCount() {\r\n        return this.count * 2\r\n    }\r\n\r\n\r\n\r\n    @action getFlag = () => {\r\n        return this.flag = !this.flag\r\n    }\r\n\r\n\r\n\r\n    @action getFlag2 = async (goodsName, mobile) => {\r\n        // console.log(goodsName, mobile)\r\n        const res = await axios.post(\"/react/getFlag\", { goodsName, mobile })\r\n        // console.log(res.data.flag)\r\n        return this.flag = res.data.flag\r\n\r\n    }\r\n\r\n    @action insertMyLove = async (flag, goodsName, mobile, over_image_url, sale_point) => {\r\n        console.log(over_image_url, sale_point)\r\n        const res = await axios.post(\"/react/insertmylove\", { flag, goodsName, mobile, over_image_url, sale_point })\r\n\r\n        return this.mylove = res.data.result\r\n\r\n    }\r\n\r\n    @action getGoodsMsg = async (goodsId) => {\r\n        const res = await axios.post(\"/react/getgoodsmsg\", { goodsId })\r\n        return this.goodsInfo = res.data.result, this.over_image_url = res.data.result.over_image_url, this.sale_point == res.data.result.sale_point, this.item_name = res.data.result.item_name, this.min_price == res.data.result.min_price\r\n\r\n    }\r\n    // detail.inToCart(mobile, goodsName, count, detail.over_image_url, detail.sale_point)\r\n\r\n    @action inToCart = async (mobile, goodsName, count, over_image_url, sale_point, item_name, min_price) => {\r\n\r\n        const res = await axios.post(\"/react/intocart\", { mobile, goodsName, count, over_image_url, sale_point, item_name, min_price })\r\n\r\n        return this.inTocart = res.data.result\r\n\r\n    }\r\n}\r\n\r\nexport default new Detail()","import \"./index.scss\"\r\nimport React, { Component } from \"react\";\r\nimport ReactDOM, { findDOMNode } from 'react-dom';\r\nimport {\r\n    WhiteSpace,\r\n    WingBlank\r\n} from \"antd-mobile\"\r\nimport { history } from \"&\"\r\n\r\nimport detail from \"../../mobx/detail\"\r\nimport { observer } from \"mobx-react\"\r\n@observer\r\nclass Item extends Component {\r\n    goToDetail(item) {\r\n        var item = this.props.item\r\n        history.push(`/detail/${item.item_id}?goodsName=${item.item_name}`);\r\n\r\n    }\r\n    // componentWillMount() {\r\n    //     var goodsName = this.props.item.item_name\r\n    //     var mobile = sessionStorage.mobile\r\n    //     var count = detail.count\r\n    //     // console.log(count)\r\n    //     var over_image_url = detail.over_image_url\r\n    //     var sale_point = this.item.sale_point\r\n    //     var item_name = this.item.item_name\r\n    //     var min_price = this.item.min_price\r\n    //     console.log(item_name, sale_point, min_price)\r\n\r\n    // }\r\n    insertcart(item) {\r\n        var goodsName = this.props.item.item_name\r\n        var mobile = sessionStorage.mobile\r\n        var count = detail.count\r\n        // console.log(count)\r\n        var over_image_url = this.props.item.over_image_url\r\n        var sale_point = this.props.item.sale_point\r\n        var item_name = this.props.item.item_name\r\n        var min_price = this.props.item.min_price\r\n\r\n        detail.inToCart(mobile, goodsName, count, over_image_url, sale_point, item_name, min_price)\r\n\r\n        console.log(item_name, sale_point, min_price)\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            item\r\n        } = this.props;\r\n        // console.log(this.props.item.over_image_url)\r\n        const {\r\n            count,\r\n            getGoodsMsg,\r\n            goodsInfo,\r\n            getFlag,\r\n            insertMyLove,\r\n            getFlag2,\r\n            inToCart,\r\n            over_image_url,\r\n            sale_point,\r\n        } = detail\r\n        return (\r\n            <div className=\"box\">\r\n                <div className=\"box_item\">\r\n                    <div className=\"fadeIn-in showitem\" onClick={() => this.goToDetail(item)} >\r\n                        <WingBlank>\r\n                            <WhiteSpace />\r\n                            <img style={{ width: '100%', height: \"3rem\" }} src={item.over_image_url} alt=\"\" />\r\n                            <span className=\"style\" >{item.promotions}</span>\r\n                            <h2 style={{ fontSize: 14, color: \"skyblue\" }}>\r\n\r\n                                <p style={{ fontSize: \"12px\", color: \"#999\", overflow: \"hidden\", textOverflow: \"ellipsis\", whiteSpace: \"nowrap\" }}>   {item.item_name}</p>\r\n                                <p style={{ color: \"red\" }}>￥{item.min_price / 100}</p>\r\n                            </h2>\r\n                            <WhiteSpace />\r\n                        </WingBlank>\r\n                        {/* </Link> */}\r\n\r\n                    </div>\r\n                    <span className=\"gowuc\" style={{ backgroundColor: \"#ffe2ec\", color: \"#ff6692\" }} >{item.specials}</span><span onClick={() => this.insertcart()}><i className=\"iconfont icon-gouwuche1 gouwuchebtn\"></i></span>\r\n\r\n                </div>\r\n            </div >\r\n\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Item\r\n\r\n","import \"./index.scss\"\r\nimport React, { Component } from \"react\";\r\nimport {\r\n    PullToRefresh,\r\n    WhiteSpace,\r\n    WingBlank\r\n} from \"antd-mobile\"\r\nimport {\r\n    Link\r\n} from \"react-router-dom\"\r\n\r\nimport Item from \"../item\"\r\nimport { connect } from \"react-redux\"\r\nimport { changeGoodListReverse, changeSearchListReverse } from \"../../react-redux/actions\"\r\nimport { success } from \"&/axios\";\r\n\r\n@connect()\r\nclass List extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            refreshing: false\r\n        }\r\n    }\r\n    render() {\r\n        const {\r\n            tab,\r\n            good,\r\n            search\r\n        } = this.props;\r\n        console.log(good)\r\n        return (\r\n            <div>\r\n                <PullToRefresh\r\n                className=\"fadeIn-in\"\r\n                    damping={60}\r\n                    ref={el => this.ptr = el}\r\n                    style={{\r\n                        overflow: 'auto',\r\n                    }}\r\n                    indicator={{ deactivate: '上拉可以刷新' }}\r\n                    direction={'down'}\r\n                    refreshing={this.state.refreshing}\r\n                    onRefresh={\r\n                        () => {\r\n                            this.setState({ refreshing: true });  // 正在刷新 \r\n                            setTimeout(() => {\r\n                                const {\r\n                                    dispatch,\r\n                                    search\r\n                                } = this.props;\r\n                                if (search) {\r\n                                    dispatch(changeSearchListReverse())\r\n                                } else {\r\n                                    dispatch(changeGoodListReverse())\r\n                                }\r\n\r\n                                success('下拉刷新成功')\r\n                                this.setState({ refreshing: false });\r\n                            }, 1000);\r\n                        }\r\n                    }\r\n                >\r\n                    {\r\n                        good.map((item, index) => {\r\n                            return (\r\n                                <Item       key={index} item={item}>\r\n\r\n                                </Item>\r\n                            )\r\n                        })\r\n                    }\r\n                </PullToRefresh>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default List\r\n\r\n","import \"./index.scss\"\r\nimport React, { Component } from \"react\"\r\nimport Head from \"~/components/head\"\r\nimport { Tabs, Badge } from 'antd-mobile';\r\nimport { connect } from \"react-redux\"\r\nimport { getHots, getGoodList } from \"../../react-redux/actions\"\r\nimport List from \"~/components/list\"\r\n\r\n// const tabs = [\r\n//     { title: \" First Tab \" },\r\n//     { title: \"Second Tab\" },\r\n//     { title: \" Third Tab\" },\r\n// ];\r\n@connect(\r\n    state => {\r\n        return {\r\n            hots: state.getIn([\"classify\", \"hots\"]),\r\n            goodList: state.getIn([\"classify\", \"goodList\"])\r\n\r\n        }\r\n    }\r\n)\r\nclass ClassIfy extends Component {\r\n    componentWillMount() {\r\n\r\n        if (!this.props.goodList.length > 0) {\r\n            this.props.dispatch(getGoodList({ url: \"/react/getGoodList\" }))\r\n        }\r\n        this.props.dispatch(getHots({ url: \"/react/hot\" }))\r\n\r\n    }\r\n    render() {\r\n        const {\r\n            hots,\r\n            goodList\r\n        } = this.props\r\n\r\n        console.log(this.props.hots)\r\n        const aa = []\r\n        hots.forEach(item => {\r\n            const obj = {}\r\n\r\n            // obj ={text:item}\r\n            obj.text = item\r\n            aa.push(obj)\r\n        })\r\n        var tabs = aa.map(item => {\r\n            item.title = item.text\r\n            return item\r\n        })\r\n\r\n        return (\r\n            <div>\r\n                <Head title=\"商品\"></Head>\r\n                <div className=\"classifybox \">\r\n                    <Tabs tabs={tabs}\r\n                        className=\"fadeIn-in fadeOut-out  \"\r\n                        initialPage={0}\r\n                        tabBarActiveTextColor='#ff005a'\r\n\r\n                    >\r\n                        {\r\n                            aa.map((val, i) => {\r\n                                return (\r\n\r\n\r\n                                    <List\r\n                                        className=\"fadeIn-in fadeOut-out \"\r\n                                        key={i}\r\n                                        tab={val}\r\n                                        good={goodList.filter(item => item.brand_name == val.text)}\r\n\r\n                                    >\r\n\r\n                                    </List>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Tabs>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default ClassIfy"],"sourceRoot":""}